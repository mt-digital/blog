<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matthew A. Turner">
<meta name="dcterms.date" content="2024-08-12">

<title>MA Turner, PhD - Varieties of homophily and core-periphery in metapopulation theories of cultural evolution</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">MA Turner, PhD</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../static/turner_cv.pdf"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mt-digital"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/MATurnerPhD"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://linkedin.com/in/maturner01"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text">LinkedIn</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">RUCA Blog</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Varieties of homophily and core-periphery in metapopulation theories of cultural evolution</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">review</div>
                <div class="quarto-category">social networks</div>
                <div class="quarto-category">homophily</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Matthew A. Turner </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 12, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="intro" class="level1">
<h1>Intro</h1>
<p>What do innovation in an online puzzle game <span class="citation" data-cites="Derex2016 Moser2023 Milzman2023">(<a href="#ref-Derex2016" role="doc-biblioref">Derex and Boyd 2016</a>; <a href="#ref-Moser2023" role="doc-biblioref">Moser and Smaldino 2023</a>; <a href="#ref-Milzman2023" role="doc-biblioref">Milzman and Moser 2023</a>)</span>; health and weight loss interventions <span class="citation" data-cites="Centola2010a Centola2011 Zhang2019">(<a href="#ref-Centola2010a" role="doc-biblioref">Centola 2010a</a>, <a href="#ref-Centola2011" role="doc-biblioref">2011</a>; <a href="#ref-Zhang2019" role="doc-biblioref">Zhang and Centola 2019</a>)</span>; the diffusion of ready-to-hand climate change adaptations <span class="citation" data-cites="Jones2021 Turner2023">(<a href="#ref-Jones2021" role="doc-biblioref">Jones, Ready, and Pisor 2021</a>; <a href="#ref-Turner2023" role="doc-biblioref">Turner et al. 2023</a>)</span>; prediction of HIV propagation through mutli-ethnic, urban social networks <span class="citation" data-cites="Morris1991">(<a href="#ref-Morris1991" role="doc-biblioref">Morris 1991</a>)</span>; political polarization <span class="citation" data-cites="Flache2011 Turner2018">(<a href="#ref-Flache2011" role="doc-biblioref">Flache and Macy 2011</a>; <a href="#ref-Turner2018" role="doc-biblioref">Turner and Smaldino 2018</a>)</span>; and pro-democracy protest movements like the Arab Spring <span class="citation" data-cites="Barbera2015 Steinert-Threlkeld2017">(<a href="#ref-Barbera2015" role="doc-biblioref">Barber√° et al. 2015</a>; <a href="#ref-Steinert-Threlkeld2017" role="doc-biblioref">Steinert-Threlkeld 2017</a>)</span> all have in common? In all these cases, social network structure enabled more effective development and dissemination of collective intelligence <span class="citation" data-cites="Centola2022">(<a href="#ref-Centola2022" role="doc-biblioref">Centola 2022</a>)</span>, potentially enabling more effective cultural adaptation <span class="citation" data-cites="GalesicEtAl2023">(<a href="#ref-GalesicEtAl2023" role="doc-biblioref">Galesic et al. 2023</a>)</span>, but also sometimes amplifying problematic collective maladaptations in the case of polarization.</p>
<p>These examples show that network structure matters. However, these examples operationalize and quantify social network structure in different, idiosyncratic ways. It is therefore difficult to know whether the same network effects are at work in different study contexts. In turn, it is difficult to synthesize our scientific understanding of how network structure affects cultural adaptation in general. In this post I aim to synthesize two common approaches to quantifying social network structure observed to affect cultural adaptation: <em>homophily</em> <span class="citation" data-cites="Kossinets2009">(<a href="#ref-Kossinets2009" role="doc-biblioref">Kossinets and Watts 2009</a>)</span> and the degree of <em>core-periphery structure</em> in a network <span class="citation" data-cites="Borgatti1999 Priebe2019">(<a href="#ref-Borgatti1999" role="doc-biblioref">Borgatti and Everett 1999</a>; <a href="#ref-Priebe2019" role="doc-biblioref">Priebe et al. 2019</a>)</span>, which I dub <em>core-peripheriness</em>. I will first give brief introductions to the many possible definitions and operationalizations that exist for these two measures. Then to synthesize the two, I will fit a stochastic block model to social networks constructed using an algorithm I developed based on group-level homophily in the special case of a <em>metapopulation</em> (i.e., a population composed of sub-populations) composed of two groups.</p>
<p>This approach helps advance the social science of collective adaptation by initiating the development of a common framework for construction or measurement of social networks that could be used across formal, computational, and empirical studies. In this way we stop ‚Äúplaying twenty questions with nature‚Äù <span class="citation" data-cites="Almaatouq2022">(<a href="#ref-Almaatouq2022" role="doc-biblioref">Almaatouq et al. 2022</a>)</span> that happens when we have ‚Äútwenty‚Äù (or more, or at least several) different ways of defining social network structure. A common framework can instead provide a foundation for new studies to build on. New studies can then multiply our knowledge instead of fracture it, as will continue to occur without a shared framework.</p>
<section id="approaches-to-operationalize-social-network-structure" class="level2">
<h2 class="anchored" data-anchor-id="approaches-to-operationalize-social-network-structure">Approaches to operationalize social network structure</h2>
<p>There are two main theoretical approaches to quantifying social network structure that I want to cover here: the <em>homophily</em> of the network and the <em>core-peripheriness</em> of the network. <em>Homophily</em> measures how frequently individuals interact with members of their own group compared to members of out-groups. In cultural evolutionary studies, homophily is almost always a global property, but we have ongoing work that relaxes this assumption to analyze <em>asymmetric homophily</em>, where homophily is different for each group. <em>Core-peripheriness</em> separates a metapopulation into one <em>core</em> group and a <em>periphery</em> composed of one or moregroups. The core group is characterized by dense connections between members with high <em>transitivity</em>, i.e., social triangles where if one individual is connected to two others, it is highly likely the two connections are also connected. The <em>periphery</em> is characterized by relatively sparse connections between individuals in the periphery and the core. It seems these are the two most fundamental approaches that give rise to what might be called higher-order properties of networks, such as transitivity and <em>average path length</em>, i.e., the mean number of social connections one must traverse to send a message from person to person like in the children‚Äôs game ‚Äútelephone‚Äù.</p>
<p>Both of these network structure definitions themselves have been quantified or operationalized various ways. Here are some notes on how different papers quantified homophily and core-peripheriness.</p>
<section id="homophily" class="level3">
<h3 class="anchored" data-anchor-id="homophily">Homophily</h3>
<ul>
<li><p>See <span class="citation" data-cites="Kossinets2009 Centola2010 Centola2011">(<a href="#ref-Kossinets2009" role="doc-biblioref">Kossinets and Watts 2009</a>; <a href="#ref-Centola2010" role="doc-biblioref">Centola 2010b</a>, <a href="#ref-Centola2011" role="doc-biblioref">2011</a>)</span> for some modern model and empirical foundations. <span class="citation" data-cites="Evtushenko2021">Evtushenko and Kleinberg (<a href="#ref-Evtushenko2021" role="doc-biblioref">2021</a>)</span> define first- and second-order homophily of a node: first-order homophily is ‚Äúindividual tendency to link to similar others‚Äù and second-order homophily is ‚Äúaggregate first-order homophily of its neighbors‚Äù.</p>
<p>Outline:</p>
<ol type="1">
<li>Types of Homophily: global (give empirical examples if possible, e.g.&nbsp;here, <span class="citation" data-cites="Kossinets2009 Centola2010 Centola2011 Golub2012">(<a href="#ref-Kossinets2009" role="doc-biblioref">Kossinets and Watts 2009</a>; <a href="#ref-Centola2010" role="doc-biblioref">Centola 2010b</a>, <a href="#ref-Centola2011" role="doc-biblioref">2011</a>; <a href="#ref-Golub2012" role="doc-biblioref">Golub and Jackson 2012</a>)</span>), second-order (<span class="citation" data-cites="Evtushenko2021">(<a href="#ref-Evtushenko2021" role="doc-biblioref">Evtushenko and Kleinberg 2021</a>)</span>), higher-order([@]; how to measure homophily? There is a difference between different <em>measures</em> of homophily and different forms of homophily: Kossinets &amp; Watts also define homophily arising more from preference and those arising more from circumstance (work/profession, neighborhood, etc.), but of course a certain profession or neighborhood may be correlated with other potential group markers such as race or ethnicity.</li>
</ol></li>
<li><p><span class="citation" data-cites="Kossinets2009">Kossinets and Watts (<a href="#ref-Kossinets2009" role="doc-biblioref">2009</a>)</span></p></li>
<li><p><span class="citation" data-cites="Centola2011">Centola (<a href="#ref-Centola2011" role="doc-biblioref">2011</a>)</span></p></li>
<li><p><span class="citation" data-cites="Turner2018">Turner and Smaldino (<a href="#ref-Turner2018" role="doc-biblioref">2018</a>)</span></p>
<ul>
<li>Long-range ties may not be as effective if multiple exposures required <span class="citation" data-cites="Centola2007 Centola2007a">(<a href="#ref-Centola2007" role="doc-biblioref">Centola et al. 2007</a>; <a href="#ref-Centola2007a" role="doc-biblioref">Centola and Macy 2007</a>)</span>, e.g., due to cultural inertia from social or religious norms <span class="citation" data-cites="Vogt2016 Efferson2020">(<a href="#ref-Vogt2016" role="doc-biblioref">Vogt et al. 2016</a>; <a href="#ref-Efferson2020" role="doc-biblioref">Efferson, Vogt, and Fehr 2020</a>)</span></li>
</ul></li>
</ul>
</section>
<section id="core-periphery" class="level3">
<h3 class="anchored" data-anchor-id="core-periphery">Core-periphery</h3>
<p>Core-periphery: - <span class="citation" data-cites="Milzman2023">Milzman and Moser (<a href="#ref-Milzman2023" role="doc-biblioref">2023</a>)</span> - <span class="citation" data-cites="Priebe2019">Priebe et al. (<a href="#ref-Priebe2019" role="doc-biblioref">2019</a>)</span></p>
<p>The sophistication of culturally-evolved behaviors and the speed and success of cultural diffusion depends upon group structure in metapopulations of interest, where a metapopulation is a population with distinct groups. Group structure is an aggregate property of metapopulations that specifies the probabilities of a member of one group interacting with members of its own group or another group. My agent-based modeling work so far has operationalized group structure in terms of <em>homophily</em>, which is a measure of the frequency of within- and between-group interactions. An alternative operationalization defines group structure via latent parameters of Bayesian priors in a generative statistical model. These models are complementary, so that possibly fitting latent parameters that determine clustering and core-periphery structure in a stochastic block model have an equivalent representation in terms of asymmetric homophily. This points to an eventual mathematical explanation that could calculate stochastic block parameters directly from a given set of asymmetric homophily values.</p>
<ol type="1">
<li>Stochastic block models two-group intro. Using our counting method for calculating homophily in those models.</li>
<li>Different numbers of connections between groups.</li>
<li>Fit stochastic block model to generated networks using our code via Cody Ross‚Äôs</li>
</ol>
</section>
</section>
</section>
<section id="section" class="level1">
<h1></h1>
</section>
<section id="asymmetric-homophily-defined-networks-fit-to-stochastic-block-models" class="level1">
<h1>Asymmetric homophily-defined networks fit to stochastic block models</h1>
<p>To begin to understand the connection between asymmetric homophily and core-peripheriness, I will first explain how to simulate minority-majority social networks using group-level asymmetric homophily, then demonstrate how to fit a stochastic block model network with two blocks to infer the core-peripheriness of networks with different homophily levels. I close the section with a brief analysis that compares core-peripheriness of networks produced with different asymmetric homophily values.</p>
<section id="asymmetric-homophily-defined-networks" class="level2">
<h2 class="anchored" data-anchor-id="asymmetric-homophily-defined-networks">Asymmetric homophily-defined networks</h2>
<div class="quarto-figure quarto-figure-right">
<figure class="figure">
<p><img src="homophily_sketch.jpg" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Homophily sets the probability that an agent potentially receives information from another agent within its own group, or from another group. The value is the number of percentage points more likely it is that a focal agent connects with in-group members compared to out-group members, with negative homophily indicating out-group connections are more likely than in-group.</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="HomophilyNetworkConstruction.jpg" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>When there is a minority group, teachers in the minority group are over-represented as teachers, indicated by the dense pink edges pointing from the minority to the majority, representing minority-teacher, majority-learner relationships.</figcaption>
</figure>
</div>
</section>
<section id="stochastic-block-model-networks-and-core-peripheriness" class="level2">
<h2 class="anchored" data-anchor-id="stochastic-block-model-networks-and-core-peripheriness">Stochastic block model networks and core-peripheriness</h2>
<p>The stochastic block model (SBM) uses probabilities of what we conceptualize as teacher-learner relationships between core and periphery to define the network. In SBM language, each group is a ‚Äúblock‚Äù. The log-odds probability of an edge from a node in group <span class="math inline">\(i\)</span> to a node in group <span class="math inline">\(j\)</span> is written <span class="math inline">\(B_{ij}\)</span>. With two groups, or ‚Äúblocks‚Äù, there are thus four probabilities to define. To continue with the minority-majority framing from the asymmetric homophily model, we write these terms SBM connection probabilities as follows. <span class="math inline">\(B_{\mathrm{maj,maj}}\)</span> is the connection probability among the core majority group; <span class="math inline">\(B_{\mathrm{min,maj}}\)</span> is the probability of a minority member possibly teaches a majority member; <span class="math inline">\(B_{\mathrm{maj,min}}\)</span> is the probability a majority member possibly teaches a minority member; and <span class="math inline">\(B_{\mathrm{min,min}}\)</span> is the probability a minority member possibly teaches another minority member. To simplify notation and match other notation choices in the literature, we can call <span class="math inline">\(a=B_\mathrm{maj,maj}\)</span>, <span class="math inline">\(b = B_\mathrm{maj, min}\)</span>, <span class="math inline">\(c = B_\mathrm{min,maj}\)</span>, and <span class="math inline">\(d=B_\mathrm{min,min}\)</span>. These are then organized into the <em>block matrix</em>, <span class="math display">\[
B =
  \begin{pmatrix}
    a &amp; b \\
    c &amp; d
  \end{pmatrix}.
\]</span></p>
<p>From this we can define a measure of core-peripheriness appropriate for our purposes, based on some approaches from the literature. For now we adapt the approach of <span class="citation" data-cites="Milzman2023">Milzman and Moser (<a href="#ref-Milzman2023" role="doc-biblioref">2023</a>)</span> who developed an agent-based model to better understand why participants in partially-connected groups outperformed participants in fully-connected groups in a cumulative cultural puzzle game in <span class="citation" data-cites="Derex2016">Derex and Boyd (<a href="#ref-Derex2016" role="doc-biblioref">2016</a>)</span>. Milzman and Moser set <span class="math inline">\(b = c\)</span> and use <span class="math inline">\(c\)</span> in place of <span class="math inline">\(d\)</span>, but we will adapt their classifications to relax this assumption and assume that in general <span class="math inline">\(b \neq c\)</span>.</p>
<p>Milzman and Moser group core-peripheriness in one of three classes with fuzzy boundaries based on the relative values of the block connection probabilities. They adapt similar definitions in <span class="citation" data-cites="Priebe2019">Priebe et al. (<a href="#ref-Priebe2019" role="doc-biblioref">2019</a>)</span>, who analyzed different spectral embedding methods, which is not irrelevant to our analysis, but is beyond the scope of this blog post. First, <em>decentralized core-periphery structure</em> has a densely-connected core but weakly connected periphery, and weak connectivity between the periphery and the core, i.e., <span class="math inline">\(a &gt;&gt; b,c,d\)</span>. Second, <em>centralized core-periphery structure</em> has more connections between the periphery and the core, but weak connectivity within the periphery, i.e., <span class="math inline">\(a,c,b &gt;&gt; d\)</span>. Finally, <em>affinity structure</em> has little core-periphery structure, and is dominated by within-group connections so that the diagonal elements of the block matrix dominate, i.e., <span class="math inline">\(a,d &gt;&gt; b,c\)</span>. As in our asymmetric homophily model, Milzman and Moser fix the total number of edges in the network, but vary <span class="math inline">\(a,b,c,d\)</span> to create different networks that fall along the decentralized-centralized-affinity spectrum. They find that decentralized core-periphery structure optimizes cumulative cultural evolution in a simulated version of the experimental task in <span class="citation" data-cites="Derex2016">Derex and Boyd (<a href="#ref-Derex2016" role="doc-biblioref">2016</a>)</span>.</p>
<p>For directed graphs, <span class="citation" data-cites="Elliott2020">Elliott et al. (<a href="#ref-Elliott2020" role="doc-biblioref">2020</a>)</span> provide the most thorough core-peripheriness measure, which they call <em>core‚Äìperiphery modularity</em>, which ‚Äúmeasures partition quality‚Äù . We will not use Elliot and co-authors definition exactly because their goal is to <em>identify</em> core-periphery structure, and there exist alternative measures which we build on below. First, just note that Elliot and co-authors generalize the now-classic treatment of core-periphery structure by <span class="citation" data-cites="Borgatti1999">Borgatti and Everett (<a href="#ref-Borgatti1999" role="doc-biblioref">1999</a>)</span>, which only considered undirected graphs. Maximal core-peripheriness, according to Borgatti and Everett, is the situation where the core is fully connected, and every member of the periphery is connected to every core member, but not connected to any other periphery members. A future post may test Elliott and co-author‚Äôs core-periphery modularity for measuring <em>core-peripheriness.</em></p>
</section>
<section id="sbm-parameters-of-asymmetric-homophily-defined-networks" class="level2">
<h2 class="anchored" data-anchor-id="sbm-parameters-of-asymmetric-homophily-defined-networks">SBM parameters of asymmetric homophily-defined networks</h2>
<p>We expect that when we create networks based on an agent-centric generative procedure then fit a</p>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-Almaatouq2022" class="csl-entry" role="listitem">
Almaatouq, Abdullah, Thomas L. Griffiths, Jordan W. Suchow, Mark E. Whiting, James Evans, and Duncan J. Watts. 2022. <span>‚Äú<span class="nocase">Beyond Playing 20 Questions with Nature: Integrative Experiment Design in the Social and Behavioral Sciences</span>.‚Äù</span> <em>Behavioral and Brain Sciences</em>. <a href="https://doi.org/10.1017/S0140525X22002874">https://doi.org/10.1017/S0140525X22002874</a>.
</div>
<div id="ref-Barbera2015" class="csl-entry" role="listitem">
Barber√°, Pablo, Ning Wang, Richard Bonneau, John T. Jost, Jonathan Nagler, Joshua Tucker, and Sandra Gonz√°lez-Bail√≥n. 2015. <span>‚Äú<span class="nocase">The critical periphery in the growth of social protests</span>.‚Äù</span> <em>PLoS ONE</em> 10 (11): 1‚Äì15. <a href="https://doi.org/10.1371/journal.pone.0143611">https://doi.org/10.1371/journal.pone.0143611</a>.
</div>
<div id="ref-Borgatti1999" class="csl-entry" role="listitem">
Borgatti, Stephen P., and Martin G. Everett. 1999. <span>‚Äú<span class="nocase">Model of core / periphery structures</span>.‚Äù</span> <em>Social Networks</em> 21: 375‚Äì95.
</div>
<div id="ref-Centola2010" class="csl-entry" role="listitem">
Centola, Damon. 2010b. <span>‚Äú<span class="nocase">The Spread of Behavior in an Online Social Network Experiment</span>.‚Äù</span> <em>Science</em> 329 (5996): 1194‚Äì97. <a href="https://doi.org/10.1126/science.1185231">https://doi.org/10.1126/science.1185231</a>.
</div>
<div id="ref-Centola2010a" class="csl-entry" role="listitem">
‚Äî‚Äî‚Äî. 2010a. <span>‚Äú<span class="nocase">The spread of behavior in an online social network experiment</span>.‚Äù</span> <em>Science</em> 329 (5996): 1194‚Äì97. <a href="https://doi.org/10.1126/science.1185231">https://doi.org/10.1126/science.1185231</a>.
</div>
<div id="ref-Centola2011" class="csl-entry" role="listitem">
‚Äî‚Äî‚Äî. 2011. <span>‚Äú<span class="nocase">An experimental study of homophily in the adoption of health behavior</span>.‚Äù</span> <em>Science</em> 334 (6060): 1269‚Äì72. <a href="https://doi.org/10.1126/science.1207055">https://doi.org/10.1126/science.1207055</a>.
</div>
<div id="ref-Centola2022" class="csl-entry" role="listitem">
‚Äî‚Äî‚Äî. 2022. <span>‚Äú<span class="nocase">The network science of collective intelligence</span>.‚Äù</span> <em>Trends in Cognitive Sciences</em> 26 (11): 923‚Äì41. <a href="https://doi.org/10.1016/j.tics.2022.08.009">https://doi.org/10.1016/j.tics.2022.08.009</a>.
</div>
<div id="ref-Centola2007" class="csl-entry" role="listitem">
Centola, Damon, Juan Carlos Gonz√°lez-Avella, V√≠ctor M Egu√≠luz, and Maxi San. 2007. <span>‚Äú<span class="nocase">Homophily, Cultural Drift, and the Co-Evolution of Cultural Groups</span>.‚Äù</span> <em>Journal of Conflict Resolution</em> 51 (6): 905‚Äì29.
</div>
<div id="ref-Centola2007a" class="csl-entry" role="listitem">
Centola, Damon, and Michael Macy. 2007. <span>‚Äú<span class="nocase">Complex Contagions and the Weakness of Long Ties</span>.‚Äù</span> <em>American Journal of Sociology</em> 113 (3): 702‚Äì34.
</div>
<div id="ref-Derex2016" class="csl-entry" role="listitem">
Derex, Maxime, and Robert Boyd. 2016. <span>‚Äú<span class="nocase">Partial connectivity increases cultural accumulation within groups</span>.‚Äù</span> <em>Proceedings of the National Academy of Sciences of the United States of America</em> 113 (11): 2982‚Äì87. <a href="https://doi.org/10.1073/pnas.1518798113">https://doi.org/10.1073/pnas.1518798113</a>.
</div>
<div id="ref-Efferson2020" class="csl-entry" role="listitem">
Efferson, Charles, Sonja Vogt, and Ernst Fehr. 2020. <span>‚Äú<span class="nocase">The promise and the peril of using social influence to reverse harmful traditions</span>.‚Äù</span> <em>Nature Human Behaviour</em> 4 (1): 55‚Äì68. <a href="https://doi.org/10.1038/s41562-019-0768-2">https://doi.org/10.1038/s41562-019-0768-2</a>.
</div>
<div id="ref-Elliott2020" class="csl-entry" role="listitem">
Elliott, Andrew, Angus Chiu, Marya Bazzi, Gesine Reinert, and Mihai Cucuringu. 2020. <span>‚Äú<span class="nocase">Core-periphery structure in directed networks: Core-Periphery in Directed Networks</span>.‚Äù</span> <em>Proceedings of the Royal Society A: Mathematical, Physical and Engineering Sciences</em> 476 (2241). <a href="https://doi.org/10.1098/rspa.2019.0783">https://doi.org/10.1098/rspa.2019.0783</a>.
</div>
<div id="ref-Evtushenko2021" class="csl-entry" role="listitem">
Evtushenko, Anna, and Jon Kleinberg. 2021. <span>‚Äú<span class="nocase">The paradox of second-order homophily in networks</span>.‚Äù</span> <em>Scientific Reports</em> 11 (1): 1‚Äì10. <a href="https://doi.org/10.1038/s41598-021-92719-6">https://doi.org/10.1038/s41598-021-92719-6</a>.
</div>
<div id="ref-Flache2011" class="csl-entry" role="listitem">
Flache, Andreas, and Michael W. Macy. 2011. <span>‚Äú<span class="nocase">Small Worlds and Cultural Polarization</span>.‚Äù</span> <em>The Journal of Mathematical Sociology</em> 35 (1-3): 146‚Äì76.
</div>
<div id="ref-GalesicEtAl2023" class="csl-entry" role="listitem">
Galesic, Mirta, Daniel Barkoczi, Andrew M. Berdhal, Dora Biro, Giuseppe Carbone, Ilaria Giannoccaro, Robert L. Goldstone, et al. 2023. <span>‚Äú<span class="nocase">Beyond collective intelligence : Collective adaptation</span>.‚Äù</span> <em>Journal of the Royal Society Interface</em> 20 (20220736). <a href="https://doi.org/10.1098/rsif.2022.0736">https://doi.org/10.1098/rsif.2022.0736</a>.
</div>
<div id="ref-Golub2012" class="csl-entry" role="listitem">
Golub, Benjamin, and Matthew O. Jackson. 2012. <span>‚Äú<span class="nocase">How homophily affects the speed of learning and best-response dynamics</span>.‚Äù</span> <em>The Quarterly Journal of Economics</em>, 1287‚Äì1338. <a href="https://doi.org/10.1093/qje/qjs021.Advance">https://doi.org/10.1093/qje/qjs021.Advance</a>.
</div>
<div id="ref-Jones2021" class="csl-entry" role="listitem">
Jones, James Holland, Elspeth Ready, and Anne C. Pisor. 2021. <span>‚Äú<span class="nocase">Want climate-change adaptation? Evolutionary theory can help</span>.‚Äù</span> <em>American Journal of Human Biology</em> 33 (4): 1‚Äì17. <a href="https://doi.org/10.1002/ajhb.23539">https://doi.org/10.1002/ajhb.23539</a>.
</div>
<div id="ref-Kossinets2009" class="csl-entry" role="listitem">
Kossinets, Gueorgi, and Duncan J. Watts. 2009. <span>‚Äú<span class="nocase">Origins of homophily in an evolving social network</span>.‚Äù</span> <em>American Journal of Sociology</em> 115 (2): 405‚Äì50. <a href="https://doi.org/10.1086/599247">https://doi.org/10.1086/599247</a>.
</div>
<div id="ref-Milzman2023" class="csl-entry" role="listitem">
Milzman, Jesse, and Cody Moser. 2023. <span>‚Äú<span class="nocase">Decentralized core-periphery structure in social networks accelerates cultural innovation in agent-based model</span>.‚Äù</span> <a href="http://arxiv.org/abs/2302.12121">http://arxiv.org/abs/2302.12121</a>.
</div>
<div id="ref-Morris1991" class="csl-entry" role="listitem">
Morris, Martina. 1991. <span>‚Äú<span class="nocase">A log-linear modeling framework for selective mixing</span>.‚Äù</span> <em>Mathematical Biosciences</em> 107 (2): 349‚Äì77. <a href="https://doi.org/10.1016/0025-5564(91)90014-A">https://doi.org/10.1016/0025-5564(91)90014-A</a>.
</div>
<div id="ref-Moser2023" class="csl-entry" role="listitem">
Moser, Cody, and Paul E. Smaldino. 2023. <span>‚Äú<span class="nocase">Innovation-facilitating networks create inequality</span>.‚Äù</span> <em>Proceedings of the Royal Society B: Biological Sciences</em> 290 (2011). <a href="https://doi.org/10.1098/rspb.2023.2281">https://doi.org/10.1098/rspb.2023.2281</a>.
</div>
<div id="ref-Priebe2019" class="csl-entry" role="listitem">
Priebe, Carey E., Youngser Park, Joshua T. Vogelstein, John M. Conroy, Vince Lyzinski, Minh Tang, Avanti Athreya, Joshua Cape, and Eric Bridgeford. 2019. <span>‚Äú<span class="nocase">On a two-truths phenomenon in spectral graph clustering</span>.‚Äù</span> <em>Proceedings of the National Academy of Sciences of the United States of America</em> 116 (13): 5995‚Äì6000. <a href="https://doi.org/10.1073/pnas.1814462116">https://doi.org/10.1073/pnas.1814462116</a>.
</div>
<div id="ref-Steinert-Threlkeld2017" class="csl-entry" role="listitem">
Steinert-Threlkeld, Zachary C. 2017. <span>‚Äú<span class="nocase">Spontaneous collective action: Peripheral mobilization during the arab spring</span>.‚Äù</span> <em>American Political Science Review</em> 111 (2): 379‚Äì403. <a href="https://doi.org/10.1017/S0003055416000769">https://doi.org/10.1017/S0003055416000769</a>.
</div>
<div id="ref-Turner2023" class="csl-entry" role="listitem">
Turner, Matthew A., Alyson L. Singleton, Mallory J. Harris, Ian Harryman, Cesar Augusto Lopez, Ronan Forde Arthur, Caroline Muraida, and James Holland Jones. 2023. <span>‚Äú<span class="nocase">Minority-group incubators and majority-group reservoirs support the diffusion of climate change adaptations</span>.‚Äù</span> <em>Philosophical Transactions of the Royal Society B: Biological Sciences</em> 378 (1889). <a href="https://doi.org/10.1098/rstb.2022.0401">https://doi.org/10.1098/rstb.2022.0401</a>.
</div>
<div id="ref-Turner2018" class="csl-entry" role="listitem">
Turner, Matthew A., and Paul E. Smaldino. 2018. <span>‚Äú<span class="nocase">Paths to Polarization: How Extreme Views, Miscommunication, and Random Chance Drive Opinion Dynamics</span>.‚Äù</span> <em>Complexity</em>. <a href="https://doi.org/10.1155/2018/2740959">https://doi.org/10.1155/2018/2740959</a>.
</div>
<div id="ref-Vogt2016" class="csl-entry" role="listitem">
Vogt, Sonja, Nadia Ahmed Mohmmed Zaid, Hilal El Fadil Ahmed, Ernst Fehr, and Charles Efferson. 2016. <span>‚Äú<span class="nocase">Changing cultural attitudes towards female genital cutting</span>.‚Äù</span> <em>Nature</em> 538 (7626): 506‚Äì9. <a href="https://doi.org/10.1038/nature20100">https://doi.org/10.1038/nature20100</a>.
</div>
<div id="ref-Zhang2019" class="csl-entry" role="listitem">
Zhang, Jingwen, and Damon Centola. 2019. <span>‚Äú<span class="nocase">Social Networks and Health: New Developments in Diffusion, Online and Offline</span>.‚Äù</span> <em>Annual Review of Sociology</em> 45 (1): 91‚Äì109. <a href="https://doi.org/10.1146/annurev-soc-073117-041421">https://doi.org/10.1146/annurev-soc-073117-041421</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="mt-digital/mt.digital-blog-comments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->




</body></html>